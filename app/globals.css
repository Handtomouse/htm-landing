@import 'tailwindcss';

/* Skip Navigation Link for Keyboard Accessibility */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  z-index: 9999;
  padding: 8px 16px;
  background: var(--bg);
  color: var(--ink);
  text-decoration: none;
  font-family: var(--font-body);
  border: 2px solid var(--ink);
}

.skip-link:focus {
  top: 8px;
  left: 8px;
}

:root {
  /* Base Colors (BB-OS Palette) */
  --bg: #0b0b0b;
  --panel: #131313;
  --ink: #EDECEC;
  --muted: #9A9A9A;
  --grid: #2A2A2A;

  /* Accent Colors */
  --accent: #ff9d23;
  --accent-hover: #FFB84D;
  --icon: #6b6b6b;

  /* Baseline Grid System (8px base unit) */
  --grid-unit: 8px;
  --grid-2x: calc(var(--grid-unit) * 2);  /* 16px */
  --grid-3x: calc(var(--grid-unit) * 3);  /* 24px */
  --grid-4x: calc(var(--grid-unit) * 4);  /* 32px */
  --grid-6x: calc(var(--grid-unit) * 6);  /* 48px */
  --grid-8x: calc(var(--grid-unit) * 8);  /* 64px */
  --grid-10x: calc(var(--grid-unit) * 10); /* 80px */
  --grid-12x: calc(var(--grid-unit) * 12); /* 96px */

  /* Spacing Scale (4px increments) */
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-6: 24px;
  --space-8: 32px;
  --space-12: 48px;
  --space-16: 64px;
  --space-20: 80px;

  /* Layout Constants */
  --footer-height: 56px;
  --page-padding-x: var(--grid-3x);
  --page-padding-y: var(--grid-4x);
  --content-max-width: 1200px;

  /* Animation Durations */
  --duration-instant: 120ms;
  --duration-fast: 300ms;
  --duration-normal: 600ms;
  --duration-slow: 1200ms;
  --duration-dramatic: 1800ms;

  /* Easing Functions */
  --ease-luxury: cubic-bezier(0.16, 1, 0.3, 1);

  /* Shadows */
  --shadow-glow: 0 0 40px rgba(255, 157, 35, 0.5);
  --shadow-glow-intense: 0 0 60px rgba(255, 157, 35, 0.8);

  /* Fonts */
  --font-heading: "argent-pixel-cf", "Pixelify Sans", "VT323", monospace;
  --font-body: "argent-pixel-cf", "Roboto Mono", ui-monospace, monospace;
  --font-mono: "argent-pixel-cf", "VT323", ui-monospace, monospace;
}

/* Mobile: Increase footer height for better touch targets */
@media (max-width: 640px) and (max-height: 700px) {
  :root {
    --footer-height: 64px;
  }
}

/* Argent Pixel rendering optimization */
body, p, span, div, input, button {
  -webkit-font-smoothing: none;
  -moz-osx-font-smoothing: grayscale;
  font-smooth: never;
}

@theme inline {
  --color-bg: var(--bg);
  --color-panel: var(--panel);
  --color-ink: var(--ink);
  --color-muted: var(--muted);
  --color-grid: var(--grid);
  --color-accent: var(--accent);
  --color-accent-hover: var(--accent-hover);
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

html {
  max-width: 100vw;
  overflow-x: hidden;
  height: 100%;
}

body {
  max-width: 100vw;
  overflow-x: hidden;
}

body {
  background: var(--bg);
  color: var(--ink);
}

/* Pixel-perfect rendering */
.pixel-art {
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

/* BB-OS Glow Effect */
.glow-orange {
  text-shadow: var(--shadow-glow);
}

.glow-orange-box {
  box-shadow: var(--shadow-glow);
}

.glow-orange-intense {
  box-shadow: var(--shadow-glow-intense);
}

/* ========================================
   TERMINAL TYPEWRITER LUXURY EFFECTS
   ======================================== */

/* CRT Phosphor Glow - Multi-layer text shadow for analog warmth */
.phosphor-glow {
  text-shadow:
    0 0 2px #EDECEC,
    0 0 4px #EDECEC,
    0 0 8px rgba(237, 236, 236, 0.6),
    0 0 12px rgba(237, 236, 236, 0.3);
}

/* Wordmark Glow - Same phosphor effect for SVG wordmark */
.wordmark-glow {
  filter:
    blur(0.4px)
    drop-shadow(0 0 1px #EDECEC)
    drop-shadow(0 0 3px rgba(237, 236, 236, 0.8))
    drop-shadow(0 0 6px rgba(237, 236, 236, 0.4))
    drop-shadow(0 0 9px rgba(237, 236, 236, 0.2))
    hue-rotate(0deg)
    brightness(1);
}

/* Scanline Overlay - Animated horizontal lines */
@keyframes scanlines {
  0% {
    transform: translateY(0);
  }
  100% {
    transform: translateY(4px);
  }
}

.scanline-overlay {
  position: relative;
}

.scanline-overlay::before {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.15) 2px,
    rgba(0, 0, 0, 0.15) 4px
  );
  animation: scanlines 0.0666s linear infinite;
  pointer-events: none;
  z-index: 20;
}

/* Vignette Edge Darkening */
.vignette {
  position: relative;
}

.vignette::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 50%,
    rgba(0, 0, 0, 0.3) 80%,
    rgba(0, 0, 0, 0.6) 100%
  );
  pointer-events: none;
  z-index: 15;
}

/* Cursor Halo Glow - Pulsing orange glow */
@keyframes cursor-pulse {
  0%, 100% {
    opacity: 0.4;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.1);
  }
}

.cursor-glow {
  box-shadow:
    0 0 8px rgba(255, 157, 35, 0.6),
    0 0 16px rgba(255, 157, 35, 0.3);
  animation: cursor-pulse 500ms ease-in-out infinite;
}

/* Elastic Character Landing - Bounce on reveal */
@keyframes elastic-land {
  0% {
    transform: translateY(-2px) scale(1.05);
    opacity: 0.8;
  }
  60% {
    transform: translateY(0.5px);
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

.char-land {
  animation: elastic-land 120ms cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Scramble Motion Blur */
.char-scramble {
  filter: blur(0.5px);
  animation: scramble-jitter 20ms linear infinite;
}

@keyframes scramble-jitter {
  0%, 100% {
    transform: translateX(-0.5px);
  }
  50% {
    transform: translateX(0.5px);
  }
}

/* Punctuation Pause Breath - Extended micro-zoom */
@keyframes breathe {
  0% {
    transform: scale(1);
  }
  30% {
    transform: scale(1.008);
  }
  70% {
    transform: scale(1.008);
  }
  100% {
    transform: scale(1);
  }
}

.breathe-pause {
  animation: breathe 800ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Clear Phase Fade-Out Trail */
@keyframes fade-out-trail {
  0% {
    opacity: 1;
    text-shadow:
      0 0 2px #EDECEC,
      0 0 4px #EDECEC,
      0 0 8px rgba(237, 236, 236, 0.6);
  }
  100% {
    opacity: 0;
    text-shadow: 0 0 12px rgba(237, 236, 236, 0.2);
  }
}

.char-fade-out {
  animation: fade-out-trail 80ms ease-out forwards;
}

/* Line Height Breathing - Slow 8s cycle */
@keyframes breathe-line-height {
  0%, 100% {
    line-height: 1.618;
  }
  50% {
    line-height: 1.628;
  }
}

.line-height-breathe {
  animation: breathe-line-height 8s ease-in-out infinite;
}

/* Underscore Placeholder Pulse */
@keyframes placeholder-pulse {
  0%, 100% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.5;
  }
}

.placeholder-pulse {
  animation: placeholder-pulse 2s ease-in-out infinite;
}

/* ========================================
   TAGLINE SCRAMBLE DECODE EFFECT
   ======================================== */

/* Scrambling character - dim gray with slight jitter */
.tagline-char.scrambling {
  color: var(--muted);
  opacity: 0.4;
  filter: blur(0.3px);
  animation: char-scramble-jitter 50ms linear infinite;
}

@keyframes char-scramble-jitter {
  0%, 100% {
    transform: translateY(-0.3px);
  }
  50% {
    transform: translateY(0.3px);
  }
}

/* Decoded character - bright white with pop effect */
.tagline-char.decoded {
  color: #EDECEC;
  opacity: 1;
  filter: blur(0);
  text-shadow:
    0 0 2px #EDECEC,
    0 0 4px #EDECEC,
    0 0 8px rgba(237, 236, 236, 0.4);
  animation: tagline-decode-pop 180ms cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes tagline-decode-pop {
  0% {
    transform: translateY(-1px) scale(1.08);
    opacity: 0.7;
  }
  60% {
    transform: translateY(0.3px) scale(1.02);
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

/* Reduced motion: instant appearance */
@media (prefers-reduced-motion: reduce) {
  .tagline-char.scrambling,
  .tagline-char.decoded {
    animation: none !important;
    color: #EDECEC;
    opacity: 1;
    filter: none;
  }
}

/* Progress Indicator */
.progress-bar {
  position: fixed;
  top: 0;
  left: 0;
  height: 2px;
  background: var(--accent);
  transition: width 100ms ease-out;
  z-index: 100;
}

/* ========================================
   FOOTER CTA BUTTONS (PILL STYLE)
   ======================================== */

.footer-cta-button:hover {
  color: var(--ink);
  background: rgba(255, 157, 35, 0.08);
  border-color: var(--accent);
  box-shadow: 0 0 12px rgba(255, 157, 35, 0.2);
  transform: scale(1.05);
}

.footer-cta-button:active {
  color: var(--accent);
  background: rgba(255, 157, 35, 0.12);
  border-color: var(--accent);
  box-shadow: 0 0 8px rgba(255, 157, 35, 0.3);
  transform: scale(0.95);
}

.footer-cta-button:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 3px;
  color: var(--ink);
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .footer-cta-button {
    transition: none !important;
  }
  .footer-cta-button:hover {
    transform: none !important;
  }
  .footer-cta-button:active {
    transform: none !important;
  }
}

/* ========================================
   PHASE 5-10: MUSEUM-QUALITY EFFECTS
   ======================================== */

/* Chromatic Aberration - RGB Split */
.chromatic-aberration {
  text-shadow:
    -0.5px 0 0 rgba(255, 0, 0, 0.5),
    0.5px 0 0 rgba(0, 255, 255, 0.5),
    0 0 2px #EDECEC,
    0 0 4px #EDECEC,
    0 0 8px rgba(237, 236, 236, 0.6);
}

/* Screen Curvature - 3D Perspective Container */
.screen-curve {
  perspective: 1000px;
  perspective-origin: center center;
}

.screen-curve-inner {
  transform: rotateX(2deg) scale(1.02);
  transform-style: preserve-3d;
  transition: transform 600ms var(--ease-luxury);
}

/* Light Leak Overlay */
@keyframes light-leak-rotate {
  0% {
    transform: rotate(0deg) scale(2);
  }
  100% {
    transform: rotate(360deg) scale(2);
  }
}

.light-leak {
  position: absolute;
  inset: -50%;
  background: radial-gradient(
    ellipse at 30% 20%,
    rgba(255, 157, 35, 0.08),
    transparent 50%
  ),
  radial-gradient(
    ellipse at 70% 80%,
    rgba(0, 255, 255, 0.06),
    transparent 50%
  );
  mix-blend-mode: screen;
  pointer-events: none;
  animation: light-leak-rotate 60s linear infinite;
  z-index: 3;
}

/* Film Grain Texture */
@keyframes grain-shift {
  0%, 100% {
    transform: translate(0, 0);
  }
  10% {
    transform: translate(-5%, -5%);
  }
  30% {
    transform: translate(3%, -8%);
  }
  50% {
    transform: translate(-2%, 4%);
  }
  70% {
    transform: translate(7%, 2%);
  }
  90% {
    transform: translate(-4%, -6%);
  }
}

.film-grain {
  position: absolute;
  inset: 0;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="128" height="128"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /></filter><rect width="128" height="128" filter="url(%23noise)" opacity="0.15"/></svg>');
  background-repeat: repeat;
  opacity: 0.4;
  mix-blend-mode: overlay;
  pointer-events: none;
  animation: grain-shift 8s steps(10) infinite;
  z-index: 4;
}

/* Bezel Shadow - 3D Recessed Screen */
.bezel-shadow {
  box-shadow:
    inset 0 0 20px rgba(0, 0, 0, 0.8),
    inset 0 0 40px rgba(0, 0, 0, 0.5),
    inset 0 0 60px rgba(0, 0, 0, 0.3);
}

/* Typewriter Carriage Return */
@keyframes carriage-return {
  0% {
    transform: translateX(0);
  }
  30% {
    transform: translateX(-3px);
  }
  100% {
    transform: translateX(0);
  }
}

.carriage-return {
  animation: carriage-return 150ms var(--ease-luxury);
}

/* Character Rotation on Reveal */
@keyframes char-rotate {
  0% {
    transform: translateY(-2px) scale(1.05) rotate(var(--rotation-start));
    opacity: 0.8;
  }
  60% {
    transform: translateY(0.5px) rotate(calc(var(--rotation-start) * 0.3));
  }
  100% {
    transform: translateY(0) scale(1) rotate(0deg);
    opacity: 1;
  }
}

.char-rotate {
  animation: char-rotate 120ms cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Rainbow Wave Effect */
@keyframes rainbow-wave {
  0% {
    filter: hue-rotate(0deg) brightness(1);
  }
  50% {
    filter: hue-rotate(180deg) brightness(1.2);
  }
  100% {
    filter: hue-rotate(360deg) brightness(1);
  }
}

.rainbow-wave {
  animation: rainbow-wave 2s ease-in-out;
}

/* Reflection Overlay */
.reflection-container {
  position: relative;
}

.reflection-overlay {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  transform: scaleY(-1);
  opacity: 0.08;
  mask-image: linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, transparent 60%);
  -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, transparent 60%);
  pointer-events: none;
  filter: blur(1px);
}

/* GPU-Accelerated Glow */
.gpu-glow {
  filter: drop-shadow(0 0 2px #EDECEC)
          drop-shadow(0 0 4px #EDECEC)
          drop-shadow(0 0 8px rgba(237, 236, 236, 0.6));
  will-change: transform, filter;
}

/* Theme Variations */
:root[data-theme="amber"] {
  --ink: #FFBF00;
  --bg: #1a0f00;
}

:root[data-theme="green"] {
  --ink: #33FF33;
  --bg: #001a00;
}

:root[data-theme="blue"] {
  --ink: #66B3FF;
  --bg: #00000a;
}

/* WPM Counter */
.wpm-counter {
  position: fixed;
  top: 16px;
  right: 16px;
  font-family: var(--font-mono);
  font-size: 12px;
  color: var(--muted);
  opacity: 0.6;
  z-index: 100;
  user-select: none;
  transition: opacity 300ms;
}

.wpm-counter:hover {
  opacity: 1;
}

/* Shake Glitch Effect */
@keyframes shake-glitch {
  0%, 100% {
    transform: translate(0, 0);
    filter: hue-rotate(0deg);
  }
  10% {
    transform: translate(-2px, 1px);
    filter: hue-rotate(90deg);
  }
  20% {
    transform: translate(2px, -1px);
    filter: hue-rotate(-90deg);
  }
  30% {
    transform: translate(-1px, 2px);
    filter: hue-rotate(45deg);
  }
  40% {
    transform: translate(1px, -2px);
    filter: hue-rotate(-45deg);
  }
  50% {
    transform: translate(-2px, -1px);
    filter: hue-rotate(180deg);
  }
  60% {
    transform: translate(2px, 1px);
    filter: hue-rotate(-180deg);
  }
  70% {
    transform: translate(-1px, -1px);
    filter: hue-rotate(90deg);
  }
  80% {
    transform: translate(1px, 1px);
    filter: hue-rotate(-90deg);
  }
  90% {
    transform: translate(-1px, 0);
    filter: hue-rotate(45deg);
  }
}

.glitch-shake {
  animation: shake-glitch 300ms linear;
}

/* ========================================
   HTM LOGO STYLING
   ======================================== */

/* FIX: Organic Pong chase - Player 1 (Left) with subtle variation */
@keyframes logo-chase-left {
  0%, 100% {
    transform: translateY(calc(-28vh));
    filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
  }
  15% {
    transform: translateY(calc(-5vh));
    filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
  }
  35% {
    transform: translateY(calc(28vh));
    filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
  }
  50% {
    transform: translateY(calc(15vh));
    filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
  }
  65% {
    transform: translateY(calc(-10vh));
    filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
  }
  85% {
    transform: translateY(calc(-35vh));
    filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
  }
}

/* FIX: Organic Pong chase - Player 2 (Right) with different rhythm */
@keyframes logo-chase-right {
  0%, 100% {
    transform: translateY(calc(18vh)) scaleX(-1);
    filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
  }
  20% {
    transform: translateY(calc(32vh)) scaleX(-1);
    filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
  }
  38% {
    transform: translateY(calc(8vh)) scaleX(-1);
    filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
  }
  55% {
    transform: translateY(calc(-22vh)) scaleX(-1);
    filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
  }
  72% {
    transform: translateY(calc(-34vh)) scaleX(-1);
    filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
  }
  88% {
    transform: translateY(calc(-8vh)) scaleX(-1);
    filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
  }
}

/* Orange Phosphor Glow - Matches terminal text aesthetic */
.logo-container {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 25;
  contain: layout;
  width: clamp(50px, 10vw, 144px);
  height: auto;
}

/* Left hand - midway between edge and content */
.logo-container.logo-left {
  left: calc((100vw - min(600px, 90vw)) / 4);
}

/* Right hand - midway between edge and content */
.logo-container.logo-right {
  right: calc((100vw - min(600px, 90vw)) / 4);
}

.logo-container img {
  opacity: 0.8;
  /* REMOVED: will-change: transform, opacity, filter; - Was preventing CSS animations from executing */
  /* FIX: Removed cursor: pointer - no click handler exists */
  user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
  filter:
    blur(0.2px)
    drop-shadow(0 0 4px rgba(247, 168, 53, 0.4))
    drop-shadow(0 0 8px rgba(247, 168, 53, 0.2))
    drop-shadow(0 0 16px rgba(247, 168, 53, 0.1));
  /* REMOVED: transform: translate3d(0, 0, 0); - Was blocking keyframe animations */
  backface-visibility: hidden;
}

/* Right logo base transform - maintain scaleX(-1) flip */
.logo-container.logo-right img {
  transform: scaleX(-1);
}

/* FIX: Randomized animation duration for natural feel while maintaining smoothness */
/* E3: Left logo animation - Player 1 movement (3.8-4.2s randomized via calc) */
/* DISABLED: Chase animations for stationary hands baseline */
/*
.logo-container:first-of-type img {
  --logo-chase-duration: 4s;
  animation: logo-chase-left var(--logo-chase-duration) ease-in-out infinite;
  /* Slight randomization via animation-delay doesn't affect duration predictability */
/*}
*/

/* E3: Right logo animation - Player 2 movement (slightly different timing for organic feel) */
/* DISABLED: Chase animations for stationary hands baseline */
/*
.logo-container:last-of-type img {
  --logo-chase-duration: 4.3s;
  animation: logo-chase-right var(--logo-chase-duration) ease-in-out infinite;
  animation-delay: 0.7s;
}
*/

/* FIX: Removed hover animation-duration change (caused visual jumps mid-animation) */
/* Hover state disabled to prevent glitchy behavior during battle */

/* A1: Shot Telegraph - Layers with chase animation WITHOUT stopping movement */
.logo-container[data-charging="true"] img {
  scale: 1.08;
  filter: brightness(1.4) drop-shadow(0 0 12px rgba(247, 168, 53, 0.9)) drop-shadow(0 0 20px rgba(247, 168, 53, 0.6)) !important;
  /* FIX: Transition timing matches telegraph duration (300ms) to prevent double-pulsing */
  transition: scale 300ms ease-out, filter 300ms ease-out;
}

/* FIX: Removed aggression mode visual indicators (caused filter conflicts with charging state) */
/* Aggression mode logic preserved in BattleSystem.tsx - affects shooting probability, not visuals */

/* Mobile-optimized paths for smaller viewports */
@media (max-height: 700px) {
  @keyframes logo-chase-left {
    0% {
      transform: translateY(calc(-20vh + 60px));
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    8% {
      transform: translateY(calc(-23vh + 60px));
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    18% {
      transform: translateY(calc(7vh));
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    22% {
      transform: translateY(calc(10vh));
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    35% {
      transform: translateY(calc(25vh - 60px));
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    42% {
      transform: translateY(calc(23vh - 60px));
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    58% {
      transform: translateY(calc(13vh));
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    65% {
      transform: translateY(calc(3vh));
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    72% {
      transform: translateY(calc(-7vh));
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    85% {
      transform: translateY(calc(-25vh + 60px));
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    92% {
      transform: translateY(calc(-23vh + 60px));
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    100% {
      transform: translateY(calc(-20vh + 60px));
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
  }

  @keyframes logo-chase-right {
    0% {
      transform: translateY(calc(16vh)) scaleX(-1);
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    12% {
      transform: translateY(calc(25vh - 60px)) scaleX(-1);
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    20% {
      transform: translateY(calc(27vh - 60px)) scaleX(-1);
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    32% {
      transform: translateY(calc(-3vh)) scaleX(-1);
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    38% {
      transform: translateY(calc(-10vh)) scaleX(-1);
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    48% {
      transform: translateY(calc(-25vh + 60px)) scaleX(-1);
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    55% {
      transform: translateY(calc(-23vh + 60px)) scaleX(-1);
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    68% {
      transform: translateY(calc(7vh)) scaleX(-1);
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    78% {
      transform: translateY(calc(22vh - 50px)) scaleX(-1);
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    88% {
      transform: translateY(calc(19vh - 50px)) scaleX(-1);
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
    100% {
      transform: translateY(calc(16vh)) scaleX(-1);
      filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.4)) drop-shadow(0 0 8px rgba(247, 168, 53, 0.2));
    }
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .logo-container img {
    opacity: 1 !important;
    filter: none !important;
    outline: 2px solid #FFFFFF;
    outline-offset: 2px;
  }

  @keyframes logo-chase-left {
    0%, 8%, 18%, 22%, 35%, 42%, 58%, 65%, 72%, 85%, 92%, 100% {
      filter: none !important;
    }
  }

  @keyframes logo-chase-right {
    0%, 8%, 18%, 22%, 35%, 42%, 58%, 65%, 72%, 85%, 92%, 100% {
      filter: none !important;
    }
  }
}

/* ========================================
   BATTLE SYSTEM - PROJECTILES
   ======================================== */

/* Projectile travel animations - relative transforms */
@keyframes projectile-travel-left-to-right {
  0% {
    transform: translateX(0) scale(0.3) rotate(0deg);
    opacity: 0;
  }
  5% {
    transform: translateX(20px) scale(1) rotate(2deg);
    opacity: 1;
  }
  95% {
    transform: translateX(calc(100vw - 200px)) scale(1) rotate(-2deg);
    opacity: 1;
  }
  100% {
    transform: translateX(calc(100vw - 180px)) scale(0.8) rotate(0deg);
    opacity: 0;
  }
}

@keyframes projectile-travel-right-to-left {
  0% {
    transform: translateX(0) scale(0.3) rotate(0deg);
    opacity: 0;
  }
  5% {
    transform: translateX(-20px) scale(1) rotate(-2deg);
    opacity: 1;
  }
  95% {
    transform: translateX(calc(-100vw + 200px)) scale(1) rotate(2deg);
    opacity: 1;
  }
  100% {
    transform: translateX(calc(-100vw + 180px)) scale(0.8) rotate(0deg);
    opacity: 0;
  }
}

/* Mobile-optimized projectile travel (< 640px) */
@media (max-width: 640px) {
  @keyframes projectile-travel-left-to-right {
    0% {
      transform: translateX(0) scale(0.3) rotate(0deg);
      opacity: 0;
    }
    5% {
      transform: translateX(10px) scale(1) rotate(2deg);
      opacity: 1;
    }
    95% {
      transform: translateX(calc(100vw - 80px)) scale(1) rotate(-2deg);
      opacity: 1;
    }
    100% {
      transform: translateX(calc(100vw - 70px)) scale(0.8) rotate(0deg);
      opacity: 0;
    }
  }

  @keyframes projectile-travel-right-to-left {
    0% {
      transform: translateX(0) scale(0.3) rotate(0deg);
      opacity: 0;
    }
    5% {
      transform: translateX(-10px) scale(1) rotate(-2deg);
      opacity: 1;
    }
    95% {
      transform: translateX(calc(-100vw + 80px)) scale(1) rotate(2deg);
      opacity: 1;
    }
    100% {
      transform: translateX(calc(-100vw + 70px)) scale(0.8) rotate(0deg);
      opacity: 0;
    }
  }
}

/* Tablet-optimized projectile travel (641px - 1024px) */
@media (min-width: 641px) and (max-width: 1024px) {
  @keyframes projectile-travel-left-to-right {
    0% {
      transform: translateX(0) scale(0.3) rotate(0deg);
      opacity: 0;
    }
    5% {
      transform: translateX(15px) scale(1) rotate(2deg);
      opacity: 1;
    }
    95% {
      transform: translateX(calc(100vw - 120px)) scale(1) rotate(-2deg);
      opacity: 1;
    }
    100% {
      transform: translateX(calc(100vw - 100px)) scale(0.8) rotate(0deg);
      opacity: 0;
    }
  }

  @keyframes projectile-travel-right-to-left {
    0% {
      transform: translateX(0) scale(0.3) rotate(0deg);
      opacity: 0;
    }
    5% {
      transform: translateX(-15px) scale(1) rotate(-2deg);
      opacity: 1;
    }
    95% {
      transform: translateX(calc(-100vw + 120px)) scale(1) rotate(2deg);
      opacity: 1;
    }
    100% {
      transform: translateX(calc(-100vw + 100px)) scale(0.8) rotate(0deg);
      opacity: 0;
    }
  }
}

/* Muzzle flash effect */
@keyframes muzzle-flash {
  0% {
    opacity: 0;
    transform: scale(0.3) rotate(-5deg);
    filter: brightness(1.8) drop-shadow(0 0 8px rgba(247, 168, 53, 0.8));
  }
  20% {
    opacity: 1;
    transform: scale(1.2) rotate(5deg);
    filter: brightness(2.5) drop-shadow(0 0 16px rgba(247, 168, 53, 1));
  }
  100% {
    opacity: 0;
    transform: scale(0.6) rotate(-3deg);
    filter: brightness(1) drop-shadow(0 0 4px rgba(247, 168, 53, 0.4));
  }
}

/* Impact explosion effect */
@keyframes impact-explosion {
  0% {
    opacity: 1;
    transform: scale(0.5) rotate(0deg);
    filter: blur(0) brightness(1.5);
  }
  50% {
    opacity: 1;
    transform: scale(1.5) rotate(180deg);
    filter: blur(1px) brightness(2);
    box-shadow:
      -2px 0 0 rgba(255, 0, 0, 0.5),
      2px 0 0 rgba(0, 255, 255, 0.5);
  }
  100% {
    opacity: 0;
    transform: scale(2.5) rotate(360deg);
    filter: blur(4px) brightness(1);
    box-shadow:
      -4px 0 0 rgba(255, 0, 0, 0.3),
      4px 0 0 rgba(0, 255, 255, 0.3);
  }
}

/* A4: Screen shake effect with dynamic intensity */
@keyframes screen-shake {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(calc(-2px * var(--shake-intensity, 1)), calc(1px * var(--shake-intensity, 1))); }
  20% { transform: translate(calc(2px * var(--shake-intensity, 1)), calc(-1px * var(--shake-intensity, 1))); }
  30% { transform: translate(calc(-1px * var(--shake-intensity, 1)), calc(2px * var(--shake-intensity, 1))); }
  40% { transform: translate(calc(1px * var(--shake-intensity, 1)), calc(-2px * var(--shake-intensity, 1))); }
  50% { transform: translate(calc(-2px * var(--shake-intensity, 1)), calc(-1px * var(--shake-intensity, 1))); }
  60% { transform: translate(calc(2px * var(--shake-intensity, 1)), calc(1px * var(--shake-intensity, 1))); }
  70% { transform: translate(calc(-1px * var(--shake-intensity, 1)), calc(-1px * var(--shake-intensity, 1))); }
  80% { transform: translate(calc(1px * var(--shake-intensity, 1)), calc(1px * var(--shake-intensity, 1))); }
  90% { transform: translate(calc(-1px * var(--shake-intensity, 1)), 0); }
}

/* Logo recoil effect */
@keyframes logo-recoil-left {
  0% { transform: translateX(0); }
  30% { transform: translateX(-15px); }
  100% { transform: translateX(0); }
}

@keyframes logo-recoil-right {
  0% { transform: translateX(0); }
  30% { transform: translateX(15px); }
  100% { transform: translateX(0); }
}

/* Battle system styles */
.battle-arena {
  position: relative;
  width: 100%;
  height: 100%;
  user-select: none;
  -webkit-user-select: none;
}

.projectile-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 10;
}

.projectile {
  position: absolute;
  width: 28.56px;
  height: 4.76px;
  left: 0;
  will-change: transform, opacity;
  /* FIX: Prevent accidental selection */
  user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}

/* E3: Projectile animations with variable duration for slow-motion */
.projectile-left {
  --projectile-duration: 850ms;
  animation: projectile-travel-left-to-right var(--projectile-duration) linear forwards;
}

.projectile-right {
  --projectile-duration: 850ms;
  animation: projectile-travel-right-to-left var(--projectile-duration) linear forwards;
}

.projectile-core {
  position: absolute;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  filter: drop-shadow(0 0 4px rgba(247, 168, 53, 0.6))
          drop-shadow(0 0 8px rgba(247, 168, 53, 0.4));
  user-select: none;
  -webkit-user-select: none;
}

/* A3: Projectile Trail Particles - Motion blur effect */
.projectile-trail {
  position: absolute;
  width: 6px;
  height: 6px;
  background: radial-gradient(circle, #FF9D23 0%, #F7A835 50%, transparent 100%);
  border-radius: 50%;
  left: 10px;
  top: -1px;
  filter: blur(1px);
  will-change: opacity, transform;
}

.trail-1 {
  animation: trail-fade-1 850ms ease-out forwards;
}

.trail-2 {
  animation: trail-fade-2 850ms ease-out forwards;
  width: 5px;
  height: 5px;
}

.trail-3 {
  animation: trail-fade-3 850ms ease-out forwards;
  width: 4px;
  height: 4px;
}

@keyframes trail-fade-1 {
  0% {
    opacity: 0;
    transform: translateX(0) scale(1);
  }
  15% {
    opacity: 0.7;
  }
  100% {
    opacity: 0;
    transform: translateX(-15px) scale(0.5);
  }
}

@keyframes trail-fade-2 {
  0% {
    opacity: 0;
    transform: translateX(0) scale(1);
  }
  20% {
    opacity: 0.5;
  }
  100% {
    opacity: 0;
    transform: translateX(-25px) scale(0.3);
  }
}

@keyframes trail-fade-3 {
  0% {
    opacity: 0;
    transform: translateX(0) scale(1);
  }
  25% {
    opacity: 0.3;
  }
  100% {
    opacity: 0;
    transform: translateX(-35px) scale(0.2);
  }
}

.muzzle-flash {
  position: absolute;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  animation: muzzle-flash 120ms ease-out forwards;
  z-index: 5;
  pointer-events: none;
  will-change: transform, opacity, filter;
  user-select: none;
  -webkit-user-select: none;
}

.impact-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 12;
}

.impact-effect {
  position: absolute;
  width: 40px;
  height: 40px;
  animation: impact-explosion 250ms ease-out forwards;
  will-change: transform, opacity, filter;
  user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}

.impact-burst {
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, rgba(255, 157, 35, 1) 0%, rgba(255, 157, 35, 0) 70%);
}

.impact-particles {
  position: absolute;
  inset: 0;
}

.impact-particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: #FF9D23;
  border-radius: 50%;
  left: 50%;
  top: 50%;
  will-change: transform;
}

/* A5: Death debris particles - scatter outward on death */
@keyframes death-debris-scatter {
  0% {
    opacity: 1;
    transform: translate(0, 0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(var(--debris-x), var(--debris-y)) scale(0.3) rotate(360deg);
  }
}

.death-debris {
  position: absolute;
  width: 8px;
  height: 8px;
  background: #FF9D23;
  border-radius: 50%;
  animation: death-debris-scatter 300ms ease-out forwards;
  filter: blur(0.5px) drop-shadow(0 0 4px rgba(247, 168, 53, 0.6));
  will-change: transform, opacity;
}

/* A6: Teleport effects - respawn animation */
@keyframes teleport-ring-expand {
  0% {
    transform: scale(0.5) translate(-50%, -50%);
    opacity: 1;
    border-width: 4px;
  }
  100% {
    transform: scale(2.5) translate(-50%, -50%);
    opacity: 0;
    border-width: 1px;
  }
}

@keyframes teleport-scanlines {
  0% {
    transform: translate(-50%, -50%) scaleY(0);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) scaleY(1);
    opacity: 0;
  }
}

@keyframes teleport-particle-inward {
  0% {
    opacity: 1;
    transform: translate(var(--particle-x), var(--particle-y)) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(0, 0) scale(0);
  }
}

.teleport-ring {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 60px;
  height: 60px;
  border: 4px solid #FF9D23;
  border-radius: 50%;
  filter: drop-shadow(0 0 8px rgba(247, 168, 53, 0.8));
  animation: teleport-ring-expand 400ms ease-out;
  will-change: transform, opacity;
}

.teleport-scanlines {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 80px;
  height: 80px;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(247, 168, 53, 0.6) 2px,
    rgba(247, 168, 53, 0.6) 4px
  );
  animation: teleport-scanlines 400ms ease-out;
  will-change: transform, opacity;
}

.teleport-particle {
  position: absolute;
  width: 6px;
  height: 6px;
  background: #FF9D23;
  border-radius: 50%;
  filter: blur(0.5px) drop-shadow(0 0 3px rgba(247, 168, 53, 0.8));
  animation: teleport-particle-inward 400ms ease-in forwards;
  will-change: transform, opacity;
}

.logo-hit {
  animation: logo-recoil-left 300ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.logo-hit.logo-right {
  animation-name: logo-recoil-right;
}

.screen-shake-active {
  animation: screen-shake 200ms linear;
}

/* A2: Freeze Frame - Pause all animations for hitlag effect (60ms) */
.freeze-frame .logo-container img,
.freeze-frame .projectile,
.freeze-frame .muzzle-flash {
  animation-play-state: paused !important;
}

/* E1: Screen Flash - White flash overlay on death */
.screen-flash {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(255, 255, 255, 0.85);
  pointer-events: none;
  z-index: 9999;
  animation: flash-fade 150ms ease-out forwards;
}

@keyframes flash-fade {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes impact-expand {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) scale(2);
    opacity: 0;
  }
}

/* Logo state animations */
.logo-alive {
  opacity: 1;
  transition: opacity 0.3s, transform 0.3s, filter 0.3s;
}

/* Shot telegraph charging glow - REMOVED (conflicts with line 808, causes unwanted movement) */

/* .logo-dying, .logo-respawning moved to battle system section (lines 1865-1885) to avoid conflicts */

@keyframes logo-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Screen shake effect */
.screen-shake {
  animation: screen-shake-anim 100ms linear;
}

@keyframes screen-shake-anim {
  0%, 100% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(-2px, 2px);
  }
  50% {
    transform: translate(2px, -2px);
  }
  75% {
    transform: translate(-2px, -2px);
  }
}

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  .logo-container img {
    animation: none !important;
  }

  .projectile,
  .muzzle-flash,
  .impact-effect,
  .screen-shake-active {
    animation: none !important;
  }
}

/* E3: Slow-motion effect - multiplies animation durations by 3x */
.slow-motion .logo-container img {
  --logo-chase-duration: calc(4s * 3);
}
.slow-motion .logo-container:last-of-type img {
  --logo-chase-duration: calc(4.3s * 3);
}
.slow-motion .projectile-left,
.slow-motion .projectile-right {
  --projectile-duration: calc(850ms * 3);
}

/* ========================================
   LOGO HIT REACTION ANIMATIONS
   ======================================== */

/* Death animation - logo gets hit */
/* Left hand death - spiral collapse (optimized for mobile) */
@keyframes logo-death-left {
  0% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
    filter: blur(0) brightness(1) drop-shadow(0 0 4px rgba(247, 168, 53, 0.4));
  }
  15% {
    transform: scale(1.3) rotate(0deg);
    opacity: 1;
    filter: blur(0) brightness(4) drop-shadow(0 0 40px rgba(247, 168, 53, 1)) drop-shadow(0 0 20px rgba(255, 255, 255, 1)) drop-shadow(0 0 60px rgba(255, 157, 35, 0.8));
  }
  50% {
    transform: scale(2.5) rotate(90deg);
    opacity: 0.6;
    filter: blur(8px) brightness(2.5);
  }
  100% {
    transform: scale(0) rotate(360deg);
    opacity: 0;
    filter: blur(12px) brightness(0.5);
  }
}

/* Right hand death - spiral collapse with flip maintained */
@keyframes logo-death-right {
  0% {
    transform: scaleX(-1) scale(1) rotate(0deg);
    opacity: 1;
    filter: blur(0) brightness(1) drop-shadow(0 0 4px rgba(247, 168, 53, 0.4));
  }
  15% {
    transform: scaleX(-1) scale(1.3) rotate(0deg);
    opacity: 1;
    filter: blur(0) brightness(4) drop-shadow(0 0 40px rgba(247, 168, 53, 1)) drop-shadow(0 0 20px rgba(255, 255, 255, 1)) drop-shadow(0 0 60px rgba(255, 157, 35, 0.8));
  }
  50% {
    transform: scaleX(-1) scale(2.5) rotate(90deg);
    opacity: 0.6;
    filter: blur(8px) brightness(2.5);
  }
  100% {
    transform: scaleX(-1) scale(0) rotate(360deg);
    opacity: 0;
    filter: blur(12px) brightness(0.5);
  }
}

/* Respawn animation - ring collapses inward with pulsing glow */
@keyframes logo-respawn-flash {
  0% {
    opacity: 0;
    transform: scale(2.5);
    filter: blur(8px) brightness(2) drop-shadow(0 0 40px rgba(247, 168, 53, 1));
  }
  30% {
    opacity: 1;
    transform: scale(1.5);
    filter: blur(3px) brightness(2.5) drop-shadow(0 0 28px rgba(247, 168, 53, 1)) drop-shadow(0 0 14px rgba(255, 255, 255, 0.6));
  }
  50% {
    opacity: 0.7;
    transform: scale(0.9);
    filter: blur(1px) brightness(2) drop-shadow(0 0 20px rgba(247, 168, 53, 0.8));
  }
  70% {
    opacity: 1;
    transform: scale(1.15);
    filter: blur(0.5px) brightness(1.8) drop-shadow(0 0 16px rgba(247, 168, 53, 0.7));
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: blur(0.8px) brightness(1) drop-shadow(0 0 4px rgba(247, 168, 53, 0.4));
  }
}

/* Invincibility shield animation - flashes in place */
@keyframes invincibility-shield {
  0%, 100% {
    opacity: 0.7;
    filter: drop-shadow(0 0 8px rgba(247, 168, 53, 0.8));
  }
  50% {
    opacity: 0.9;
    filter: drop-shadow(0 0 16px rgba(247, 168, 53, 1));
  }
}

/* Right hand respawn - ring collapse with flip maintained */
@keyframes logo-respawn-flash-right {
  0% {
    opacity: 0;
    transform: scaleX(-1) scale(2.5);
    filter: blur(8px) brightness(2) drop-shadow(0 0 40px rgba(247, 168, 53, 1));
  }
  30% {
    opacity: 1;
    transform: scaleX(-1) scale(1.5);
    filter: blur(3px) brightness(2.5) drop-shadow(0 0 28px rgba(247, 168, 53, 1)) drop-shadow(0 0 14px rgba(255, 255, 255, 0.6));
  }
  50% {
    opacity: 0.7;
    transform: scaleX(-1) scale(0.9);
    filter: blur(1px) brightness(2) drop-shadow(0 0 20px rgba(247, 168, 53, 0.8));
  }
  70% {
    opacity: 1;
    transform: scaleX(-1) scale(1.15);
    filter: blur(0.5px) brightness(1.8) drop-shadow(0 0 16px rgba(247, 168, 53, 0.7));
  }
  100% {
    opacity: 1;
    transform: scaleX(-1) scale(1);
    filter: blur(0.8px) brightness(1) drop-shadow(0 0 4px rgba(247, 168, 53, 0.4));
  }
}

/* Right hand invincibility shield - flashes in place with flip */
@keyframes invincibility-shield-right {
  0%, 100% {
    opacity: 0.7;
    filter: drop-shadow(0 0 8px rgba(247, 168, 53, 0.8));
    transform: scaleX(-1);
  }
  50% {
    opacity: 0.9;
    filter: drop-shadow(0 0 16px rgba(247, 168, 53, 1));
    transform: scaleX(-1);
  }
}

/* DISABLED: Using JS-driven transforms instead of CSS keyframes */
/* CSS keyframe animations were not executing - switched to requestAnimationFrame approach */
/*
.logo-container:first-of-type[data-state="dying"] img {
  animation: logo-death-left 2000ms ease-out forwards !important;
}

.logo-container:last-of-type[data-state="dying"] img {
  animation: logo-death-right 2000ms ease-out forwards !important;
}

.logo-container:first-of-type[data-state="respawning"] img {
  animation: logo-respawn-flash 2000ms ease-out forwards !important;
}

.logo-container:last-of-type[data-state="respawning"] img {
  animation: logo-respawn-flash-right 2000ms ease-out forwards !important;
}

.logo-container:first-of-type[data-state="invincible"] img {
  animation: invincibility-shield 2000ms ease-in-out !important;
}

.logo-container:last-of-type[data-state="invincible"] img {
  animation: invincibility-shield-right 2000ms ease-in-out !important;
}
*/

/* A7: Victory pose animations - celebrating hand */
@keyframes victory-pose-left {
  0%, 100% {
    transform: translateY(0) scale(1.2) rotate(0deg);
    filter: brightness(1.5) drop-shadow(0 0 20px rgba(247, 168, 53, 1));
  }
  50% {
    transform: translateY(-10px) scale(1.3) rotate(5deg);
    filter: brightness(2) drop-shadow(0 0 30px rgba(247, 168, 53, 1));
  }
}

@keyframes victory-pose-right {
  0%, 100% {
    transform: scaleX(-1) translateY(0) scale(1.2) rotate(0deg);
    filter: brightness(1.5) drop-shadow(0 0 20px rgba(247, 168, 53, 1));
  }
  50% {
    transform: scaleX(-1) translateY(-10px) scale(1.3) rotate(-5deg);
    filter: brightness(2) drop-shadow(0 0 30px rgba(247, 168, 53, 1));
  }
}

/* Apply victory animations when data-victory="true" */
.logo-container[data-victory="true"]:first-of-type img {
  animation: victory-pose-left 1s ease-in-out infinite !important;
}

.logo-container[data-victory="true"]:last-of-type img {
  animation: victory-pose-right 1s ease-in-out infinite !important;
}


/* ===== LOADING INTRO ANIMATIONS ===== */

/* Parent wrapper - centers its children during loading stages 1-2 */
.loading-center-wrapper {
  display: flex !important;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* All loading intro elements - start with absolute positioning for centering */
.loading-intro {
  transition: none;
}

/* During fade-in and center-hold: positioned at viewport center */
.loading-intro.fade-in,
.loading-intro.center-hold {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  margin-bottom: 0;
}

/* Stage 1: Fade in at center */
.loading-intro.fade-in {
  opacity: 0;
  animation: fade-in 500ms ease-out forwards;
}

@keyframes fade-in {
  to {
    opacity: 1;
  }
}

/* Stage 2: Hold at center */
.loading-intro.center-hold {
  opacity: 1;
}

/* Stage 3: Slide from center to final top position */
.loading-intro.slide-up {
  position: fixed;
  top: 50%;
  left: 50%;
  animation: slide-to-final-position 500ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes slide-to-final-position {
  from {
    transform: translate(-50%, -50%) scale(1);
  }
  to {
    /* Slide UP from center to near top and shrink by 50% */
    transform: translate(-50%, -32vh) scale(0.5);
  }
}

/* Stage 4: Stay in fixed position (no jump) */
.loading-intro.complete {
  opacity: 1;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -32vh) scale(0.5);
}

/* Tagline fade out during slide-up */
.tagline-fade-in,
.tagline-center-hold {
  opacity: 1;
  transition: opacity 300ms ease-in;
}

.tagline-slide-up,
.tagline-complete {
  opacity: 0;
  transition: opacity 300ms ease-in;
}

/* ===== BATTLE SYSTEM ANIMATIONS ===== */

/* Screen shake on hit */
.screen-shake {
  animation: shake 100ms ease-in-out;
}

@keyframes shake {
  0%, 100% { transform: translate(0, 0); }
  25% { transform: translate(-4px, 2px); }
  50% { transform: translate(4px, -2px); }
  75% { transform: translate(-2px, -4px); }
}

/* Muzzle flash fade */
@keyframes flash-fade {
  from { opacity: 1; }
  to { opacity: 0; }
}

/* Impact expand effect */
@keyframes impact-expand {
  from {
    width: 20px;
    height: 20px;
    opacity: 1;
  }
  to {
    width: 80px;
    height: 80px;
    opacity: 0;
  }
}

/* Hand State: Alive (default) */
.logo-alive {
  opacity: 1;
  filter: none;
}

/* Hand State: Dying (shake and wobble) */
.logo-dying {
  animation: death-shake 300ms ease-out;
}

@keyframes death-shake {
  0% {
    opacity: 1;
    transform: rotate(0deg) scale(1);
  }
  25% {
    opacity: 0.9;
    transform: rotate(-8deg) scale(0.95);
  }
  50% {
    opacity: 0.7;
    transform: rotate(8deg) scale(0.85);
  }
  75% {
    opacity: 0.4;
    transform: rotate(-5deg) scale(0.7) translateY(10px);
  }
  100% {
    opacity: 0;
    transform: rotate(15deg) scale(0.3) translateY(20px);
  }
}

/* Hand State: Respawning (fade in) */
.logo-respawning {
  animation: respawn-fade 1500ms ease-in-out;
}

@keyframes respawn-fade {
  0% {
    opacity: 0;
    transform: scale(0.3) rotate(-15deg) translateY(20px);
  }
  40% {
    opacity: 0.7;
    transform: scale(1.15) rotate(2deg) translateY(-5px);
  }
  60% {
    opacity: 0.9;
    transform: scale(0.95) rotate(-1deg) translateY(2px);
  }
  80% {
    opacity: 1;
    transform: scale(1.05) rotate(0.5deg) translateY(-1px);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg) translateY(0);
  }
}

/* Hand State: Invincible (flashing) */
.logo-invincible {
  animation: invincible-flash 500ms ease-in-out infinite;
}

@keyframes invincible-flash {
  0%, 100% {
    opacity: 1;
    filter: drop-shadow(0 0 12px rgba(237, 236, 236, 0.8));
  }
  50% {
    opacity: 0.3;
    filter: drop-shadow(0 0 4px rgba(237, 236, 236, 0.3));
  }
}

/* Telegraph charging state - handled by line 808 (.logo-container[data-charging="true"] img) */
/* This section kept for reference but rules removed to avoid conflicts */

/* Stage 3: Hands slide in from sides */
.slide-in-from-left {
  animation: slide-in-left 500ms ease-out forwards;
}

.slide-in-from-right {
  animation: slide-in-right 500ms ease-out forwards;
}

@keyframes slide-in-left {
  from {
    opacity: 0;
    left: -100px;
  }
  to {
    opacity: 1;
    left: calc((100vw - min(600px, 90vw)) / 4);
  }
}

@keyframes slide-in-right {
  from {
    opacity: 0;
    right: -100px;
  }
  to {
    opacity: 1;
    right: calc((100vw - min(600px, 90vw)) / 4);
  }
}

/* Content fade in */
.fade-in-content {
  animation: fade-in-content 500ms ease-out forwards;
}

@keyframes fade-in-content {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
